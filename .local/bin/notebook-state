#!/bin/bash
time=800
case $1 in
    [cC]aps_[lL]ock )
		state="$(xset q | grep "Caps Lock" | awk -F" " '{print $4}')"
		notify-send -t $time -r 100 "Caps Lock $state";;
    [nN]um_[lL]ock )
		state="$(xset q | grep "Num Lock" | awk -F" " '{print $8}')"
		notify-send -t $time -r 100 "Num Lock $state";;
    [sS]creen_[lL]ock )
		state="$(xset q | grep "DPMS is" | awk -F" " '{print $3}')"
		if [ $state = "Enabled" ]
		then
			xautolock -disable
			xset s off -dpms
			notify-send -t $time -r 200 "Screen Lock Disabled"
		else
			xautolock -enable
			xset s on +dpms
			notify-send -t $time -r 200 "Screen Lock Enabled"
		fi;;
	[bB]acklight_[uU]p )
		xbacklight -inc 2
		notify-send -t $time -r 300 "Backlight $(xbacklight -get)%";;
	[bB]acklight_[dD]own )
		xbacklight -dec 2
		notify-send -t $time -r 300 "Backlight $(xbacklight -get)%";;
	[vV]olume_[uU]p )
		pactl set-sink-volume 0 +5%
		volume="$(pactl list sinks | grep '^[[:space:]]Volume:' | sed -e 's,.* \([0-9][0-9]*\)%.*,\1,')"
		notify-send -t $time -r 400 -i audio-volume-high "Volume $volume%";;
	[vV]olume_[dD]own )
		pactl set-sink-volume 0 -5%
		volume="$(pactl list sinks | grep '^[[:space:]]Volume:' | sed -e 's,.* \([0-9][0-9]*\)%.*,\1,')"
		notify-send -t $time -r 400 -i audio-volume-high "Volume $volume%";;
	[mM]ute )
		pactl set-sink-mute 0 toggle
		mute="$(pactl list sinks | grep 'Mute:' | awk -F" " '{print $2}')"
		if [ $mute = "yes" ]
		then
			notify-send -t $time -r 500 -i audio-volume-muted "Volume muted"
		else
			volume="$(pactl list sinks | grep '^[[:space:]]Volume:' | sed -e 's,.* \([0-9][0-9]*\)%.*,\1,')"
			notify-send -t $time -r 500 -i audio-volume-high "Volume $volume%"
		fi;;
	* )
		echo "Opciones disponibles: caps_lock, num_lock, screen_lock, backlight_up, backlight_down, volume_up, volume_down, mute.";;
esac
